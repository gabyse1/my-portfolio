{"version":3,"file":"isAuth.js","names":["_jsonwebtoken","_interopRequireDefault","require","obj","__esModule","isAuth","req","res","next","authorization","headers","token","slice","length","jwt","verify","process","env","JWT_SECRET","err","decode","status","send","message","error","user","_default","exports"],"sources":["../../src/helpers/isAuth.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\n\nconst isAuth = (req, res, next) => {\n  const { authorization } = req.headers;\n  if (authorization) {\n    const token = authorization.slice(7, authorization.length);\n    jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'somethingsecret',\n      (err, decode) => {\n        if (err) res.status(401).send({ message: { error: 'Invalid Token' } });\n        else {\n          res.user = decode;\n          next();\n        }\n      },\n    );\n  } else res.status(401).send({ message: { error: 'No Token' } });\n};\n\nexport default isAuth;\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAE/B,IAAME,MAAM,GAAG,SAATA,MAAMA,CAAIC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EACjC,IAAQC,aAAa,GAAKH,GAAG,CAACI,OAAO,CAA7BD,aAAa;EACrB,IAAIA,aAAa,EAAE;IACjB,IAAME,KAAK,GAAGF,aAAa,CAACG,KAAK,CAAC,CAAC,EAAEH,aAAa,CAACI,MAAM,CAAC;IAC1DC,wBAAG,CAACC,MAAM,CACRJ,KAAK,EACLK,OAAO,CAACC,GAAG,CAACC,UAAU,IAAI,iBAAiB,EAC3C,UAACC,GAAG,EAAEC,MAAM,EAAK;MACf,IAAID,GAAG,EAAEZ,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE;UAAEC,KAAK,EAAE;QAAgB;MAAE,CAAC,CAAC,CAAC,KAClE;QACHjB,GAAG,CAACkB,IAAI,GAAGL,MAAM;QACjBZ,IAAI,CAAC,CAAC;MACR;IACF,CACF,CAAC;EACH,CAAC,MAAMD,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAE;MAAEC,KAAK,EAAE;IAAW;EAAE,CAAC,CAAC;AACjE,CAAC;AAAC,IAAAE,QAAA,GAEarB,MAAM;AAAAsB,OAAA,cAAAD,QAAA"}